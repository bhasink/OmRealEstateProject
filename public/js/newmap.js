var imagePath;var mapRendered=true;var directionsDisplayOnMap;var directionsServiceOnMap;var map;var origin;var startmarker;var toolTip="";var poiImage="";var gmarkers=[];var poiName="";var pageCount=0;var destinationOnMap;var latlng=[];var activeTabVar;var poiVar;var iconVar;var radVar;var infoBoxPoi;var poiIconLocation="https://cdn.staticmb.com/images/poiIconsNew/";function nextPage(){var A=1;var B=$("#resultTableOnMap li:visible").next(":hidden").size();$("#mapNextPage").removeClass("disable");$("#mapPrevPage").removeClass("disable");if(B==1){$("#resultTableOnMap li").removeClass("tempVisibleLast");$("#resultTableOnMap li:visible:last").addClass("tempVisibleLast");$("#resultTableOnMap li.tempVisibleLast").prevAll().css("display","none");$("#resultTableOnMap li.tempVisibleLast").css("display","none");$("#resultTableOnMap li.tempVisibleLast").nextAll().each(function(){if(A<=5){$(this).show()}else{return false}A++})}else{$("#mapNextPage").addClass("disable");return false}}function prevPage(){var A=1;var B=$("#resultTableOnMap li:visible").prev(":hidden").size();$("#mapNextPage").removeClass("disable");$("#mapPrevPage").removeClass("disable");if(B==1){$("#resultTableOnMap li").removeClass("tempVisibleLast");$("#resultTableOnMap li:visible:first").addClass("tempVisibleLast");$("#resultTableOnMap li.tempVisibleLast").nextAll().css("display","none");$("#resultTableOnMap li.tempVisibleLast").css("display","none");$("#resultTableOnMap li.tempVisibleLast").prevAll().each(function(){if(A<=5){$(this).show()}else{return false}A++})}else{$("#mapPrevPage").addClass("disable");return false}}function loadPoiMapScript(){$("#bus_station_mapNav").trigger("onclick")}function changePoiOnDistance(A){loadPoiDataOnMap(poiVar,iconVar,activeTabVar,A)}function loadPoiDataOnMap(D,I,B,K){var E=Number(K);activeTabVar=B;poiVar=D;iconVar=I;radVar=E;var C="<li value='1000' onclick='changePoiOnDistance(this.value); setNearestValue(this)'>1 Km</li><li value='2000' onclick='changePoiOnDistance(this.value); setNearestValue(this)'>2 Km</li><li value='3000' onclick='changePoiOnDistance(this.value); setNearestValue(this)'>3 Km</li><li value='4000' onclick='changePoiOnDistance(this.value); setNearestValue(this)'>4 Km</li>";C=C+"<li value='5000' onclick='changePoiOnDistance(this.value); setNearestValue(this)'>5 Km</li>";if(D=="airport"){$("#distanceBoxCat").html("<li value='50000' onclick='changePoiOnDistance(this.value); setNearestValue(this)'>50 Km</li>")}else{$("#distanceBoxCat").html(C)}$("#nearestPoiSection ul").empty();$("#distanceBox").removeClass("listHover");$("#distanceBoxCat").addClass("listHover");$("#nearestDisValue").text($("#distanceBoxCat li[value="+K+"]").text());var G=13;if(E==3000){G=13}else{if(E==4000||E==5000){G=12}else{if(E==1000){G=14}else{if(E==50000){G=8}}}}origin=new google.maps.LatLng(origin.lat(),origin.lng());directionsServiceOnMap=new google.maps.DirectionsService({suppressInfoWindow:true});directionsDisplayOnMap=new google.maps.DirectionsRenderer({draggable:false,suppressInfoWindow:false,suppressMarkers:true,zoom:G});map=new google.maps.Map(document.getElementById("map-canvas"),{scrollwheel:false,center:new google.maps.LatLng(origin.lat(),origin.lng()),disableDefaultUI:true,zoom:G,zoomControl:true,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.RIGHT_BOTTOM}});startmarker=new google.maps.Marker({map:map,position:origin,animation:google.maps.Animation.DROP,icon:poiIconLocation+"mapIconProperty.png"});map.setCenter(origin);directionsDisplayOnMap.setMap(null);directionsDisplayOnMap=new google.maps.DirectionsRenderer({suppressMarkers:true});$(B).parents(".mapTabSec").find("li").removeClass("active");if($(B).parents(".mapPoiTabMoreDropDown").size()==1){$(B).parents("li").addClass("active")}else{$(B).addClass("active")}var F={location:origin,radius:E,types:[D]};poiName=D;poiImage=I;directionsDisplayOnMap.setMap(map);var H=new google.maps.places.PlacesService(map);H.nearbySearch(F,callback);var J={strokeColor:"#b5cadd",strokeOpacity:1,strokeWeight:1,fillColor:"#60aff6",fillOpacity:0.1,map:map,center:origin,radius:E+(E/2)};var A=new google.maps.Circle(J);$(".nearestPoiScroll").removeAttr("style");}function callback(C,B){var E="";if("bus_station"==poiName){E="Bus Stop"}else{if("train_station"==poiName){E="Metro/Train"}else{if("school"==poiName){E="Schools"}else{if("shopping_mall"==poiName){E="Shopping Mall"}else{if("hospital"==poiName){E="Hospitals"}else{if("atm"==poiName){E="Banks/ATM"}else{if("place_of_worship"==poiName){E="Worship"}else{if("grocery_or_supermarket"==poiName){E="Grocery Stores"}else{if("pharmacy"==poiName){E="Pharmacy"}else{if("restaurant"==poiName){E="Restaurants"}else{if("movie_theater"==poiName){E="Movies"}else{if("park"==poiName){E="Parks"}else{if("gym"==poiName){E="Gym"}else{if("gas_station"==poiName){E="Petrol Pump"}else{if("airport"==poiName){E="Airport"}}}}}}}}}}}}}}}clearMarker();$(".mapResultNav ul li").removeClass("active");$("#"+poiName+"_mapTable").addClass("active");if(C==null||C.length==0){G="<li><div class='poiNameValue'> No "+E+" found with in "+(radVar/1000)+" Km</div>";$("#nearestPoiSection ul").append(G)}if(B==google.maps.places.PlacesServiceStatus.OK){$('div.gm-style-cc:contains("Listings by")').css("display","none");var F="";var H=false;if("airport"==poiName){H=true}for(var D=0;D<C.length;D++){var J="div"+D;document.getElementById("gMapLoader").style.display="none";var A=C[D];var I=A.types;var G;if(I.indexOf("bus_station")!=-1){G="<li class='poiNameSec busStop'><div class='poiNameValue' id='"+J+"'><span class='poiSmallIcon mapIconBusStop'></span>"+A.name+"</div></li>";$("#nearestPoiSection ul").append(G)}else{if(I.indexOf("school")!=-1){G="<li class='poiNameSec schools'><div class='poiNameValue' id='"+J+"'><span class='poiSmallIcon mapIconSchools'></span>"+A.name+"</div></li>";$("#nearestPoiSection ul").append(G)}else{if(I.indexOf("shopping_mall")!=-1){G="<li class='poiNameSec shopping'><div class='poiNameValue' id='"+J+"'><span class='poiSmallIcon mapIconShopping'></span>"+A.name+"</div></li>";$("#nearestPoiSection ul").append(G)}else{if(I.indexOf("hospital")!=-1){G="<li class='poiNameSec hospital'><div class='poiNameValue' id='"+J+"'><span class='poiSmallIcon mapIconHospital'></span>"+A.name+"</div></li>";$("#nearestPoiSection ul").append(G)}else{if(I.indexOf("atm")!=-1){G="<li class='poiNameSec bankAtm'><div class='poiNameValue' id='"+J+"'><span class='poiSmallIcon mapIconBankAtm'></span>"+A.name+"</div></li>";$("#nearestPoiSection ul").append(G)}else{if(I.indexOf("train_station")!=-1){G="<li class='poiNameSec metroTrain'><div class='poiNameValue' id='"+J+"'><span class='poiSmallIcon mapIconMetroTrain'></span>"+A.name+"</div></li>";$("#nearestPoiSection ul").append(G)}else{if(I.indexOf("place_of_worship")!=-1){G="<li class='poiNameSec worship'><div class='poiNameValue' id='"+J+"'><span class='poiSmallIcon mapIconWorship'></span>"+A.name+"</div></li>";$("#nearestPoiSection ul").append(G)}else{if(I.indexOf("grocery_or_supermarket")!=-1){G="<li class='poiNameSec groceryStore'><div class='poiNameValue' id='"+J+"'><span class='poiSmallIcon mapIconGroceryStore'></span>"+A.name+"</div></li>";$("#nearestPoiSection ul").append(G)}else{if(I.indexOf("airport")!=-1){G="<li class='poiNameSec airPort'><div class='poiNameValue' id='"+J+"'><span class='poiSmallIcon mapIconAirPort'></span>"+A.name+"</div></li>";$("#nearestPoiSection ul").append(G)}else{if(I.indexOf("park")!=-1){G="<li class='poiNameSec parks'><div class='poiNameValue' id='"+J+"'><span class='poiSmallIcon mapIconParks'></span>"+A.name+"</div></li>";$("#nearestPoiSection ul").append(G)}else{if(I.indexOf("movie_theater")!=-1){G="<li class='poiNameSec movie'><div class='poiNameValue' id='"+J+"'><span class='poiSmallIcon mapIconMovie'></span>"+A.name+"</div></li>";$("#nearestPoiSection ul").append(G)}else{if(I.indexOf("pharmacy")!=-1){G="<li class='poiNameSec pharmacy'><div class='poiNameValue' id='"+J+"'><span class='poiSmallIcon mapIconPharmacy'></span>"+A.name+"</div></li>";$("#nearestPoiSection ul").append(G)}else{if(I.indexOf("restaurant")!=-1){G="<li class='poiNameSec restorant'><div class='poiNameValue' id='"+J+"'><span class='poiSmallIcon mapIconRestorant'></span>"+A.name+"</div></li>";$("#nearestPoiSection ul").append(G)}else{if(I.indexOf("gym")!=-1){G="<li class='poiNameSec gym'><div class='poiNameValue' id='"+J+"'><span class='poiSmallIcon mapIconGym'></span>"+A.name+"</div></li>";$("#nearestPoiSection ul").append(G)}else{if(I.indexOf("gas_station")!=-1){G="<li class='poiNameSec petrolPump'><div class='poiNameValue' id='"+J+"'><span class='poiSmallIcon mapIconPetrolPump'></span>"+A.name+"</div></li>";$("#nearestPoiSection ul").append(G)}}}}}}}}}}}}}}}createMarker(C[D],J);if(H){break}$(".nearestPoiScroll").removeAttr("style");}}}function triggerPoiNav(A){$("#"+A).trigger("onclick")}function clearMarker(){for(var A=0;A<gmarkers.length;A++){gmarkers[A].setMap(null)}}function calcDisOnMap(B,E){var D=origin;var A=destinationOnMap[B].geometry.location;var C={origin:D,destination:A,travelMode:google.maps.TravelMode.DRIVING};directionsServiceOnMap.route(C,function(G,F){if(F==google.maps.DirectionsStatus.OK){var H="";H=G.routes[0].legs[0].distance.text;poiDistance=H;document.getElementById("disOnMap"+poiName+B).innerHTML=poiDistance.toUpperCase()}})}function calcDistanceOnMap(B){var E=origin;var D;var A=B.geometry.location;var C={origin:E,destination:A,travelMode:google.maps.TravelMode.DRIVING};directionsServiceOnMap.route(C,function(G,F){if(F==google.maps.DirectionsStatus.OK){var H="";H=G.routes[0].legs[0].distance.text;poiDistance=H;document.getElementById("firstDivOnMap"+poiName).innerHTML=poiDistance.toUpperCase()}})}function createMarker(D,C){var E=poiIconLocation+poiImage+".png";var B=D.geometry.location;var A=new google.maps.Marker({map:map,position:D.geometry.location,icon:E});gmarkers.push(A);google.maps.event.addListener(A,"mouseover",function(){var G;var J;var I=origin;var F=A.position;var H={origin:I,destination:F,travelMode:google.maps.TravelMode.DRIVING};directionsServiceOnMap.route(H,function(M,L){if(L==google.maps.DirectionsStatus.OK){directionsDisplayOnMap.setOptions({preserveViewport:true});directionsDisplayOnMap.setOptions({polylineOptions:{strokeColor:"red",strokeWeight:2}});directionsDisplayOnMap.setDirections(M);G=M.routes[0].legs[0].distance.text;G="<b>"+G+"</b> "+M.routes[0].legs[0].duration.text;var O=poiIconLocation+poiImage+".png";var P=poiIconLocation+"mapCarIcon.png";var N='<div class="mapTooltipTitle">'+D.name+"</div>";N=N+'<div class="mapTooltipDesc">'+G+' <img alt="" src="'+P+'"></div>';N=N+'<div class="mapTooltipArrowSec"><div class="mapTooltipArrowShadow"></div><div class="mapTooltipArrow"></div></div>';A.setIcon(O);var K={content:N,boxClass:"mapTooltip",disableAutoPan:true,closeBoxURL:""};if(infoBoxPoi){infoBoxPoi.close()}infoBoxPoi=new InfoBox(K);infoBoxPoi.open(map,A);$("#CatagorySec li").removeClass("active");$("#"+C).parent().addClass("active");$(".singlePoiDis").remove();$("#"+C).parent().append('<div class="singlePoiDis">'+G+' <img alt="" src="'+P+'"></div>');$(".nearestPoiScroll").removeAttr("style");}})});google.maps.event.addListener(A,"mouseout",function(){var F=poiIconLocation+poiImage+".png";A.setIcon(F);$(".mapTooltip").hide();$("#CatagorySec li").removeClass("active");$(".singlePoiDis").remove();directionsDisplayOnMap.setDirections({routes:[]});$(".nearestPoiScroll").removeAttr("style");});$("#"+C).parent().mouseenter(function(){var G;var J;var I=origin;var F=A.position;var H={origin:I,destination:F,travelMode:google.maps.TravelMode.DRIVING};directionsServiceOnMap.route(H,function(M,L){if(L==google.maps.DirectionsStatus.OK){directionsDisplayOnMap.setOptions({preserveViewport:true});directionsDisplayOnMap.setOptions({polylineOptions:{strokeColor:"red",strokeWeight:2}});directionsDisplayOnMap.setDirections(M);G=M.routes[0].legs[0].distance.text;G="<b>"+G+"</b> "+M.routes[0].legs[0].duration.text;var O=poiIconLocation+poiImage+".png";var P=poiIconLocation+"mapCarIcon.png";var N='<div class="mapTooltipTitle">'+D.name+"</div>";N=N+'<div class="mapTooltipDesc">'+G+' <img alt="" src="'+P+'"></div>';N=N+'<div class="mapTooltipArrowSec"><div class="mapTooltipArrowShadow"></div><div class="mapTooltipArrow"></div></div>';A.setIcon(O);var K={content:N,boxClass:"mapTooltip",disableAutoPan:true,closeBoxURL:""};if(infoBoxPoi){infoBoxPoi.close()}infoBoxPoi=new InfoBox(K);infoBoxPoi.open(map,A);$("#CatagorySec li").removeClass("active");$(".singlePoiDis").remove();$("#"+C).parent().append('<div class="singlePoiDis">'+G+' <img alt="" src="'+P+'"></div>');$(".nearestPoiScroll").removeAttr("style");}})});$("#"+C).parent().mouseleave(function(){var F=poiIconLocation+poiImage+".png";A.setIcon(F);$(".mapTooltip").hide();$(".singlePoiDis").remove();directionsDisplayOnMap.setDirections({routes:[]});$(".nearestPoiScroll").removeAttr("style");});map.setCenter(new google.maps.LatLng(origin.lat(),origin.lng()));map.panBy(-150,0)}function calcRoute(B){var E;var D=origin;var A=B.position;var C={origin:D,destination:A,travelMode:google.maps.TravelMode.DRIVING};directionsServiceOnMap.route(C,function(G,F){if(F==google.maps.DirectionsStatus.OK){directionsDisplayOnMap.setOptions({preserveViewport:true});directionsDisplayOnMap.setOptions({polylineOptions:{strokeColor:"red"}});directionsDisplayOnMap.setDirections(G);toolTip=G.routes[0].legs[0].distance.text;toolTip="<b>"+toolTip+"</b> "+G.routes[0].legs[0].duration.text}})}$("#StoolTip").css("display","none");$(".whatIcon, #StoolTip").mouseover(function(){$("#StoolTip").css("display","block");$(".iconWhatisThis").css("z-index","1")});$(".whatIcon, #StoolTip").mouseout(function(){$("#StoolTip").css("display","none");$(".iconWhatisThis").css("z-index","0")});$("#tabSection a").click(function(){$("#tabSection a").removeClass("active");$("#tabSection a").addClass("inactive");$(this).addClass("active")});$(".propertyBrifInfoThird a").click(function(){$("#tabSection a").removeClass("active");$(".tabViewOnMap").addClass("active")});$("#mapTabMoreNav ul").on("click","li",function(){$(this).after($("#mapTabMainNav").find("li:last"));$("#mapTabMainNav").find("li:last").after($(this));$("#mapTabMainNav ul li").removeClass("active");$("#mapTabMainNav ul li:last").addClass("active")});$(".btnMapFullScreen").on("click",function(){var A=$(window).height()-115;var B=$(window).width();$("body").addClass("bodyOverFlow");$("#viewOnMapContainer").addClass("mapPosfix");$("#viewOnMapContainer").after($(".fullScreenOverLapBg"));$(".fullScreenOverLapBg").show();$(".mapClosePanel").show();$(".btnMapFullScreen").hide();$(".btnMapFullScreenBg").hide();$("#map-canvas").height(A);$("#mapTabMainNav").find("li.active").trigger("onclick")});$(".mapClosePanel").on("click",".mapCloseIcon",function(){var A=$(window).height();var B=$(window).width();$("body").removeClass("bodyOverFlow");$("#viewOnMapContainer").removeClass("mapPosfix");$(".fullScreenOverLapBg").hide();$(this).parent().css("display","none");$(".btnMapFullScreen").show();$(".btnMapFullScreenBg").show();$("#map-canvas").height("510");$("#mapTabMainNav").find("li.active").trigger("onclick")});var vcd=0;function validateReqPostCookieDetail(J,A,L){var C=J+"";if(C.indexOf("_")>0){C=C.split("_")[0]}var D=" contact";if(L!=null&&L!="undefined"&&L=="ViewContact"){D=" view the contact details"}if(L!=null&&L!="undefined"&&L=="GDES"){D=" receive the contact details"}var K="";if(readCookie("reqposted"+C)!=null&&readCookie("reqposted"+C)!=""){var M=readCookie("reqposted"+C).split("<userData>");var F=1000*60*60*24;var H=M[1];var G=M[2];var I=new Date(H).getTime();var B=new Date().getTime();var P=B-I;var O=Math.round(P/F);if(O!=0){if(G!=1){K=""+G+"  times in last "+O+" days"}if(G==1){K=""+O+" days ago"}}else{if(G>3){K=""+G+"  times today"}if(G==1){K=" today"}if(G==2){K="twice today"}if(G==3){K=" thrice today"}}}var E=readCookie("reqposted"+C);var N="";$(".viewCDetail").text("Hide Phone No.");if(E!=null&&E!=""&&vcd==0){if(confirm("You have already contacted this "+A+" "+K+". Do you Still want to "+D+"?")==true){if(document.getElementById("sendCDFormDiv2"+C)){document.getElementById("sendCDFormDiv2"+C).style.display="none"}if(document.getElementById("subDataDiv2#"+C)){document.getElementById("subDataDiv2#"+C).style.display="block"}$(".hiddenContactInfo").slideToggle("slow");vcd=1;return true}else{return false}}$(".hiddenContactInfo").slideToggle("slow");if(vcd==0){vcd=1}else{$(".viewCDetail").text("View Phone No.");vcd=0}return true}$(".viewCDetail").click(function(){});$(".SESBtn").click(function(){$(".contactConfirmation").css("display","block");$(".formComponent").css("display","none")});$(".agentDetailBlock .agentDetailClose a").click(function(){$(".agentDetailBlock").slideUp("slow")});function showHideThese(C,B){for(var A in C){if(B){$(C[A]).show()}else{$(C[A]).hide()}}}function showPoiOnMap(B,A){if(document.readyState=="complete"){$(".tabPropetyDetail").attr("href",tabURLMap.detailUrl);$(".tabViewOnMap").attr("href",tabURLMap.mapUrl);$(".tabLocalityInfo").attr("href",tabURLMap.localityUrl);$(".tabLocalityPriceTrend").attr("href",tabURLMap.ratesUrl);if(B=="locality"){$(".tabLocalityInfo").attr("href","javascript:void(0);");if($(".commonSpaceForLInfo").is(":hidden")||!$(".propertyDetailsection").is(":hidden")){ajax_track_comScore("locality_info_tab_"+A,urlProp)}else{window.location=tabURLMap.localityUrl}showHideThese([".myCommonDply",".viewOnMapContainer","#propertyTabMatter_2"],false);showHideThese([".localityContainer"],true)}else{if(B=="details"){$(".tabPropetyDetail").attr("href","javascript:void(0);");if($(".propertyDetailsection").is(":hidden")){ajax_track_comScore("property_detail_tab_"+A,urlProp)}else{window.location=tabURLMap.detailUrl}showHideThese([".localityContainer",".viewOnMapContainer","#propertyTabMatter_2"],false);showHideThese([".myCommonDply"],true)}else{if(B=="map"){$(".tabViewOnMap").attr("href","javascript:void(0);");if($(".propertyMapViewSection").is(":hidden")){ajax_track_comScore("view_on_map_tab_"+A,urlProp)}else{window.location=tabURLMap.mapUrl}showHideThese([".myCommonDply",".localityContainer"],false);showHideThese([".viewOnMapContainer","#propertyTabMatter_2"],true);if(!mapRendered){loadPoiMapScript();initializeAddressMap();mapRendered=true}}else{if(B=="trend"){$(".tabLocalityPriceTrend").attr("href","javascript:void(0);");if($(".SpaceForLPT").is(":hidden")||!$(".propertyDetailsection").is(":hidden")){ajax_track_comScore("price_trends_tab_"+A,urlProp)}else{window.open(tabURLMap.ratesUrl)}showHideThese([".myCommonDply",".localityContainer",".viewOnMapContainer","#propertyTabMatter_2"],false);showHideThese([".localityPriceTrend"],true)}else{if(B=="agent"){if($(".agentDetailContainer").is(":hidden")){ajax_track_comScore("agent_details_tab_"+A,urlProp)}showHideThese([".myCommonDply",".localityContainer",".viewOnMapContainer",".localityPriceTrend","#propertyTabMatter_2"],false);showHideThese([".agentDetailContainer"],true)}}}}}}else{$(".tabPropetyDetail").attr("href",tabURLMap.detailUrl);$(".tabViewOnMap").attr("href",tabURLMap.mapUrl);$(".tabLocalityInfo").attr("href",tabURLMap.localityUrl);$(".tabLocalityPriceTrend").attr("href",tabURLMap.ratesUrl);if(B=="locality"){$(".tabLocalityInfo").attr("href","javascript:void(0);")}else{if(B=="map"){$(".tabViewOnMap").attr("href","javascript:void(0);")}else{if(B=="trend"){$(".tabLocalityPriceTrend").attr("href","javascript:void(0);")}else{if(B=="details"){$(".tabPropetyDetail").attr("href","javascript:void(0);")}}}}}}var thumnailLength=$(".proImages img").length;$(".proImages").css("width",68*thumnailLength);if(thumnailLength==0){$(".displayCounting").css("display","none")}var firstThumnail=$(".proImages img:first");$(firstThumnail).addClass("currentThumnail");if(thumnailLength>3){$("#thumnailNavigationRightArrow").show()}if(thumnailLength==0){var displayImageLength=$("#displayBigImage img").length;$("#proImgTotalNumber").html(displayImageLength)}else{$("#proImgTotalNumber").html(thumnailLength)}var thumnailCount=3;$("#thumnailNavigationRightArrow").click(function(){if(thumnailLength>thumnailCount){$(".proImages").animate({left:"-=68px"});$("#thumnailNavigationLeftArrow").show();thumnailCount++}if(thumnailLength==thumnailCount){$(this).hide()}});$("#thumnailNavigationLeftArrow").click(function(){if(thumnailCount>3){$(".proImages").animate({left:"+=68px"});$("#thumnailNavigationRightArrow").show();thumnailCount--}if(thumnailCount==3){$(this).hide()}});var currentMediumlmage=0;$(".proImages img").each(function(){$(this).click(function(){var A=$(this).index();if(A==currentMediumlmage){}else{$("#displayBigImage .fullView").hide();$("#displayBigImage .fullView").eq(A).fadeIn();$("#displayBigImage .fullView img").eq(A).fadeIn();$("#displayBigImage .fullView .zoomIcon").eq(A).css("display","inline-block");$(".proImages img").removeClass("currentThumnail");$(this).addClass("currentThumnail");$("#proImgNumber").html(A+1);currentMediumlmage=A}})});function modalWindow(){var G=$("#galleryShoshkele");var C=$(document).height();var F=$(window).width();$("#shoshkeleMask").css({width:F,height:C});$("#shoshkeleMask").fadeTo("slow",0.6);var E=$(window).height();var B=$(window).width();var A=$(window).scrollTop();var D=$(window).scrollLeft();$(G).css({position:"absolute"});$(G).css("top",A+(E-$(G).height())/2.5);$(G).css("left",D+(B-$(G).width())/2.3);$(G).fadeIn(1);if($.browser.msie&&$.browser.version==6){if($("#coveredAreaConv").length>0){$("#coveredAreaConv").hide()}if($("#plotAreaConv").length>0){$("#plotAreaConv").hide()}if($("#carpetAreaConv").length>0){$("#carpetAreaConv").hide()}}$(".closeModalwindow").click(function(){$("#shoshkeleMask").hide();$(G).hide();galleryImagesCount=currentMediumlmage;if($.browser.msie&&$.browser.version==6){if($("#coveredAreaConv").length>0){$("#coveredAreaConv").show()}if($("#plotAreaConv").length>0){$("#plotAreaConv").show()}if($("#carpetAreaConv").length>0){$("#carpetAreaConv").show()}}});$("#shoshkeleMask").click(function(){$("#shoshkeleMask").hide();$(G).hide();galleryImagesCount=currentMediumlmage;if($.browser.msie&&$.browser.version==6){if($("#coveredAreaConv").length>0){$("#coveredAreaConv").show()}if($("#plotAreaConv").length>0){$("#plotAreaConv").show()}if($("#carpetAreaConv").length>0){$("#carpetAreaConv").show()}}})}function proertyVideoModalWindow(){var G=$("#propertyVideo");var C=$(document).height();var F=$(window).width();$("#shoshkeleMask").css({width:F,height:C});$("#shoshkeleMask").fadeTo("slow",0.6);var E=$(window).height();var B=$(window).width();var A=$(window).scrollTop();var D=$(window).scrollLeft();$(G).css({position:"absolute"});$(G).css("top",A+(E-$(G).height())/2.5);$(G).css("left",D+(B-$(G).width())/2.3);$(G).fadeIn(1);if($.browser.msie&&$.browser.version==6){if($("#coveredAreaConv").length>0){$("#coveredAreaConv").hide()}if($("#plotAreaConv").length>0){$("#plotAreaConv").hide()}if($("#carpetAreaConv").length>0){$("#carpetAreaConv").hide()}}$(".closeModalwindow").click(function(){$("#shoshkeleMask").hide();$(G).hide();if($.browser.msie&&$.browser.version==6){if($("#coveredAreaConv").length>0){$("#coveredAreaConv").show()}if($("#plotAreaConv").length>0){$("#plotAreaConv").show()}if($("#carpetAreaConv").length>0){$("#carpetAreaConv").show()}}});$("#shoshkeleMask").click(function(){$("#shoshkeleMask").hide();$(G).hide();if($.browser.msie&&$.browser.version==6){if($("#coveredAreaConv").length>0){$("#coveredAreaConv").show()}if($("#plotAreaConv").length>0){$("#plotAreaConv").show()}if($("#carpetAreaConv").length>0){$("#carpetAreaConv").show()}}})}var contactform=0;function contactAgentForm(){var G=$("#contactAgentForm");if(contactform===0){$(".contactDetail").clone().appendTo(G);contactform=1}var C=$(document).height();var F=$(window).width();$("#shoshkeleMask").css({width:F,height:C});$("#shoshkeleMask").fadeTo("slow",0.6);var E=$(window).height();var B=$(window).width();var A=$(window).scrollTop();var D=$(window).scrollLeft();$(G).css({position:"absolute"});$(G).css("top",A+(E-$(G).height())/2.5);$(G).css("left",D+(B-$(G).width())/2.3);$(G).fadeIn(1);$(".closeModalwindow").click(function(){$("#shoshkeleMask").hide();$(G).hide()});$("#shoshkeleMask").click(function(){$("#shoshkeleMask").hide();$(G).hide()})}$(".contactFormImage").click(function(){$("#shoshkeleMask").hide();$("#galleryShoshkele").hide();galleryImagesCount=currentMediumlmage});var rightLastLi=$(".propListForLike li:last");$(rightLastLi).css("background-image","none");var expertReview=$(".expertReviewContent li").length;if(expertReview==1){$(".expertReviewContent li").css("width","665px");$(".expertReviewContent div.receiewText").css("width","auto");$(".expertReviewContent ul").css("background-image","none");$(".receiewText").css("height","105px")}function enlargeThisImg(A){alert(A)}function showImagesFullView(){$("#displayBigImage .fullView").eq(0).show();$("#displayBigImage .fullView img").eq(0).show();$("#displayBigImage .fullView .zoomIcon").eq(0).css("display","inline-block")}function viewPOIMapOnLoad(){$(".tabViewOnMap").attr("href","javascript:void(0);");$("#tabSection a").removeClass("active");$(".tabViewOnMap").addClass("active");$(".myCommonDply").css("display","none");$(".viewOnMapContainer").css("display","block");$("#propertyTabMatter_2").show();loadMapScripts()}function loadMapScripts(){var A=document.createElement("script");A.type="text/javascript";A.src="https://maps.googleapis.com/maps/api/js?v=3.exp&key=AIzaSyC_YU1YQKR4YoafqUTg2vsoPS1JHqW-pto&libraries=places&sensor=false&callback=loadPoiMapScript";document.body.appendChild(A)}function setCookiesValues(B,E,I,D,F,C){var J="";if(E=="For Sale"){J="S"}else{if(E=="For Rent"){J="R"}}if(D!=null&&D!="undefined"&&D.indexOf("-")!="-1"){var G=D.indexOf("-");D=D.substring(0,G)}var A="";var K="";if(J&&B&&I&&D){var H="listType="+J+"|propType="+B+"|locality="+I+"|city="+D+"|price="+F+"|minBudget="+A+"|maxBudget="+K+"|bedrooms="+C;createMBCookie("mbRecommendationCookies",H,"30")}}function viewPropertyOnload(B,E,K,D,H,C,M){setCookiesValues(B,E,K,D,H,C);var J=null;var G=readMBCookie("mbRecommendationCookies");var L=readMBCookie("displayedCountCookie");var A=readMBCookie("clickedCountCookie");var F=readMBCookie("contactedCountCookie");if(M!=null&&M!=""){var I="";if(L&&L!=""){I=M+"=1|";L+=encodeURIComponent(I)}else{I=M+"=1|";L=encodeURIComponent(I)}}}function sendEmailSmsOnViewPhoneNumber(A,G,F,I,E,H,D,B){if(readCookie("userName")){A=readCookie("userName").replace(/^"(.*)"$/,"$1")}else{if(contactFormBeanOnLoad.userName){A=contactFormBeanOnLoad.userName}}if(readCookie("userEmail")){G=readCookie("userEmail");if(G){G=G.replace(/^"(.*)"$/,"$1")}}else{if(contactFormBeanOnLoad.userEmail){G=contactFormBeanOnLoad.userEmail;if(G){G=G.replace(/^"(.*)"$/,"$1")}}}if(readCookie("userMobile")){F=readCookie("userMobile")}else{if(contactFormBeanOnLoad.userMobile){F=contactFormBeanOnLoad.userMobile}}if(readCookie("userMobileCountry")){I=readCookie("userMobileCountry")}else{if(contactFormBeanOnLoad.userMobileCountry){I=contactFormBeanOnLoad.userMobileCountry}else{if(userDefaultMobileCountry){I=userDefaultMobileCountry}}}if(readCookie("userType")){E=readCookie("userType")}else{if(contactFormBeanOnLoad.userType){E=contactFormBeanOnLoad.userType}}var C=new Object();C.userType=E;C.name=A;C.mobile=F;C.mobileIsd=I;C.propertyId=H;C.email=G;C.contactType=D;C.ownerId=B;ajaxService.sendEmailSMSOnViewPhoneNumber(C,{callback:function(M){var J;var V=M.error;var O=M.senderValidation;if(V==true||V=="true"){parent.document.getElementById("propertyDetailRecommendation").style.display="none";parent.document.getElementById("maskProp").style.display="none";alert(O);isSubmitted=false}else{for(var Z in M){J=Z}var R=M[J];var Y=R.companyName;if(Y){document.getElementById("userCompanyTextDiv").innerHTML=Y}else{document.getElementById("userCompanyDiv").style.display="none"}var b=R.name;if(b){document.getElementById("userNameDiv").innerHTML=b}else{document.getElementById("userNameDiv").style.display="none"}var U=R.userType;if(U){if(U==="I"){document.getElementById("userReccomProfileDiv").style.display="none";U="Owner"}else{if(U==="A"){U="Agent"}else{if(U==="B"){U="Builder"}}}document.getElementById("userTypeDiv").innerHTML=U}else{document.getElementById("userTypeDiv").style.display="none"}var N=R.mobile;if(N){document.getElementById("userMobileTextDiv").innerHTML=N}else{document.getElementById("userMobileDiv").style.display="none"}var X=R.userProfileLink;if(X){var W=document.getElementById("viewRecommProfileLink");W.href=X}else{document.getElementById("userReccomProfileDiv").style.display="none"}var P=R.propertySearchLink;if(P){if(Y){var S='<p><a href="'+P+'" id="userPropertyLinkDiv" target="_blank">View all Properties of '+Y+"</a></p>";document.getElementById("userPropertyDiv").innerHTML=S}}else{document.getElementById("userPropertyDiv").style.display="none"}document.getElementById("thanksMsgWrap").style.display="block";isSubmitted=true;document.getElementById("dwrLoader").style.display="none";document.getElementById("recommdwrLoader").style.display="none";document.getElementById("popUpRecommendationsDiv").style.display="block";$("#sliderPropertyDetail").anythingSlider({expand:true,autoPlay:true,hashTags:false,delay:9000,animationTime:600,buildNavigation:true,buildStartStop:false});document.getElementById("recommendsPopup").className="bigPopupWithInfo";ajax_track_comScore("pop up property","pop up property");trackGetContactData("Get Contact Detatails",H,"Property",G,F,null);var L=new Date();var K="c_"+L.getHours()+":"+L.getMinutes()+":"+L.getSeconds()+"."+L.getMilliseconds();trackItForContactSubmission(K,"0000")}var T=new Date();var Q=C.email+"<userData>"+T;createPostReqCookie("reqposted"+H,Q,15)},async:false})}function checkCookieData(){var A="";var E="";var C="";var D="";var B="";if(readCookie("userName")){D=readCookie("userName").replace(/^"(.*)"$/,"$1")}else{if(contactFormBeanOnLoad.userName){D=contactFormBeanOnLoad.userName}}if(readCookie("userEmail")){A=readCookie("userEmail");if(A){A=A.replace(/^"(.*)"$/,"$1")}}else{if(contactFormBeanOnLoad.userEmail){A=contactFormBeanOnLoad.userEmail;if(A){A=A.replace(/^"(.*)"$/,"$1")}}}if(readCookie("userMobile")){E=readCookie("userMobile")}else{if(contactFormBeanOnLoad.userMobile){E=contactFormBeanOnLoad.userMobile}}if(readCookie("userMobileCountry")){C=readCookie("userMobileCountry")}else{if(contactFormBeanOnLoad.userMobileCountry){C=contactFormBeanOnLoad.userMobileCountry}else{if(userDefaultMobileCountry){C=userDefaultMobileCountry}}}if(readCookie("userType")){B=readCookie("userType")}else{if(contactFormBeanOnLoad.userType){B=contactFormBeanOnLoad.userType}}if(D&&A&&E&&C&&B){return true}else{return false}}function SubmitContactForm(D){var L=false;if(L){document.getElementById("dwrLoader").style.display="block";var H="";var E="";var B="";var K="";var C="";var I="";var F="";H=document.getElementsByName("ReqRecommType1"+D);F=getCheckedRadio(H);B=document.getElementById("reqName"+D).value;K=document.getElementById("reqEmail"+D).value;C=document.getElementById("sendCDMobile11"+D).value;var J=document.getElementById("sendCD_phone_"+D);I=J.options[J.selectedIndex].value;createCookie("userName",B,2);createCookie("userEmail",K,2);createCookie("userMobileCountry",I,2);createCookie("userMobile",C,2);createCookie("userType",F.value,2);var G=checkCookieData();var A=D+"_left";if(G){sendEmailSmsOnViewPhoneNumber(tempName,tempEmail,tempMobile,tempMobileCountry,tempUserType,D,"property",ownerID);track_comScoreDetail("property_view_phone_"+D,"property_view_phone");if(isSubmitted===true||isSubmitted==="true"){document.getElementById("recommendsSubWrapDetail").style.display="none";document.getElementById("recommendsSubHeadingText").style.display="none";document.getElementById("recommendsHeadingText").style.display="none";document.getElementById("recommendsPopup").className="bigPopupWithInfo"}}}}function getCheckedRadio(C){for(var B=0;B<C.length;B++){var A=C[B];if(A.checked){return A}}return undefined}function validateAndSubmitContactForm(A){if(!validateCommonContactForm("ReqRecommType1"+A,"reqName"+A,"reqEmail"+A,"sendCDMobile11"+A,null,null,"sendCD_phone_"+A,null,null,true,null,"sendCdForm"+A,true,"ReqTypeErrorDiv"+A,"errDivName"+A,"errDivEMail"+A,"errDivMobile"+A,null,null,false)){return false}else{return true}}function getISDSelectVal(A,C){var B=document.getElementById("sendCD_phone_"+id);var D=B.options[B.selectedIndex].text;$(C).val(D)}function showMoreBanks(){$("#moreBanks").show()}function loadDefaultDataOnMap(B,C){$(".mapTabSec ul li").removeClass("active");$(".mapTabSec ul li:first").addClass("active");$("#distanceBoxCat").removeClass("listHover");$("#distanceBox").addClass("listHover");$("#nearestDisValue").text($("#distanceBox li[value="+C+"]").text());$("#nearestPoiSection ul").empty();var D=Number(C);var G=13;origin=new google.maps.LatLng(origin.lat(),origin.lng());directionsServiceOnMap=new google.maps.DirectionsService({suppressInfoWindow:true});directionsDisplayOnMap=new google.maps.DirectionsRenderer({draggable:false,suppressInfoWindow:false,suppressMarkers:true,zoom:13});map=new google.maps.Map(document.getElementById("map-canvas"),{scrollwheel:false,center:new google.maps.LatLng(origin.lat(),origin.lng()),disableDefaultUI:true,zoom:G,zoomControl:true,zoomControlOptions:{style:google.maps.ZoomControlStyle.SMALL,position:google.maps.ControlPosition.RIGHT_BOTTOM}});startmarker=new google.maps.Marker({map:map,position:origin,animation:google.maps.Animation.DROP,icon:poiIconLocation+"mapIconProperty.png"});directionsDisplayOnMap.setMap(null);directionsDisplayOnMap=new google.maps.DirectionsRenderer({suppressMarkers:true});$(B).parents(".mapTabSec").find("li").removeClass("active");if($(B).parents(".mapPoiTabMoreDropDown").size()==1){$(B).parents("li").addClass("active")}else{$(B).addClass("active")}if(D==1000){map.setZoom(14);map.setCenter(new google.maps.LatLng(origin.lat(),origin.lng()))}if(D==3000){G=13;map.setCenter(new google.maps.LatLng(origin.lat(),origin.lng()))}else{if(D==4000||D==5000){map.setZoom(12);map.setCenter(new google.maps.LatLng(origin.lat(),origin.lng()))}}var J={strokeColor:"#b5cadd",strokeOpacity:1,strokeWeight:1,fillColor:"#60aff6",fillOpacity:0.1,map:map,center:origin,radius:D+(D/2)};var A=new google.maps.Circle(J);var K=["bus_station","school","shopping_mall","hospital","atm","train_station","place_of_worship","grocery_or_supermarket","pharmacy","restaurant","movie_theater","park","gym","gas_station","airport"];var H=new google.maps.places.PlacesService(map);var I=new Array();for(var F=0;F<K.length;F++){var E={location:origin,radius:D,types:[K[F]]};I[F]=E}directionsDisplayOnMap.setMap(map);setTimeout(function(){H.nearbySearch(I[0],callbackOnLoadBus)},200);setTimeout(function(){H.nearbySearch(I[1],callbackOnLoadSchool)},200*2);setTimeout(function(){H.nearbySearch(I[2],callbackOnLoadShop)},200*3);setTimeout(function(){H.nearbySearch(I[3],callbackOnLoadHospital)},200*4);setTimeout(function(){H.nearbySearch(I[4],callbackOnLoadAtm)},200*5);setTimeout(function(){H.nearbySearch(I[5],callbackOnLoadTrain)},200*6);setTimeout(function(){H.nearbySearch(I[6],callbackOnLoadWorship)},200*7);setTimeout(function(){H.nearbySearch(I[7],callbackOnLoadGrocery)},200*8);setTimeout(function(){H.nearbySearch(I[8],callbackOnLoadPharmacy)},200*9);setTimeout(function(){H.nearbySearch(I[9],callbackOnLoadRestaurant)},200*10);setTimeout(function(){H.nearbySearch(I[10],callbackOnLoadMovie)},3000);setTimeout(function(){H.nearbySearch(I[11],callbackOnLoadPark)},3500);setTimeout(function(){H.nearbySearch(I[12],callbackOnLoadGym)},4000);setTimeout(function(){H.nearbySearch(I[13],callbackOnLoadGas)},4500);setTimeout(function(){H.nearbySearch(I[14],callbackOnLoadAirport)},5000);map.setCenter(origin);map.panBy(200,0);$(".nearestPoiScroll").removeAttr("style");}function callbackOnLoadAirport(D,B,A){$("#paginationDiv").hide();if(B==google.maps.places.PlacesServiceStatus.OK){if(D!=null){for(var C=0;C<D.length;C++){createMarkerOnLoad(D[C],"airport");document.getElementById("gMapLoader").style.display="none";break}}}}function callbackOnLoadGas(D,B,A){$("#paginationDiv").hide();if(B==google.maps.places.PlacesServiceStatus.OK){if(D!=null){for(var C=0;C<D.length;C++){createMarkerOnLoad(D[C],"gas_station");document.getElementById("gMapLoader").style.display="none";break}}}}function callbackOnLoadGym(D,B,A){$("#paginationDiv").hide();if(B==google.maps.places.PlacesServiceStatus.OK){if(D!=null){for(var C=0;C<D.length;C++){createMarkerOnLoad(D[C],"gym");document.getElementById("gMapLoader").style.display="none";break}}}}function callbackOnLoadPark(D,B,A){$("#paginationDiv").hide();if(B==google.maps.places.PlacesServiceStatus.OK){if(D!=null){for(var C=0;C<D.length;C++){createMarkerOnLoad(D[C],"park");document.getElementById("gMapLoader").style.display="none";break}}}}function callbackOnLoadMovie(D,B,A){$("#paginationDiv").hide();if(B==google.maps.places.PlacesServiceStatus.OK){if(D!=null){for(var C=0;C<D.length;C++){createMarkerOnLoad(D[C],"movie_theater");document.getElementById("gMapLoader").style.display="none";break}}}}function callbackOnLoadRestaurant(D,B,A){$("#paginationDiv").hide();if(B==google.maps.places.PlacesServiceStatus.OK){if(D!=null){for(var C=0;C<D.length;C++){createMarkerOnLoad(D[C],"restaurant");document.getElementById("gMapLoader").style.display="none";break}}}}function callbackOnLoadPharmacy(D,B,A){$("#paginationDiv").hide();if(B==google.maps.places.PlacesServiceStatus.OK){if(D!=null){for(var C=0;C<D.length;C++){createMarkerOnLoad(D[C],"pharmacy");document.getElementById("gMapLoader").style.display="none";break}}}}function callbackOnLoadGrocery(D,B,A){$("#paginationDiv").hide();if(B==google.maps.places.PlacesServiceStatus.OK){if(D!=null){for(var C=0;C<D.length;C++){createMarkerOnLoad(D[C],"grocery_or_supermarket");document.getElementById("gMapLoader").style.display="none";break}}}}function callbackOnLoadWorship(D,B,A){$("#paginationDiv").hide();if(B==google.maps.places.PlacesServiceStatus.OK){if(D!=null){for(var C=0;C<D.length;C++){createMarkerOnLoad(D[C],"place_of_worship");document.getElementById("gMapLoader").style.display="none";break}}}}function callbackOnLoadTrain(D,B,A){$("#paginationDiv").hide();if(B==google.maps.places.PlacesServiceStatus.OK){if(D!=null){for(var C=0;C<D.length;C++){createMarkerOnLoad(D[C],"train_station");document.getElementById("gMapLoader").style.display="none";break}}}}function callbackOnLoadAtm(D,B,A){$("#paginationDiv").hide();if(B==google.maps.places.PlacesServiceStatus.OK){if(D!=null){for(var C=0;C<D.length;C++){createMarkerOnLoad(D[C],"atm");document.getElementById("gMapLoader").style.display="none";break}}}}function callbackOnLoadHospital(D,B,A){$("#paginationDiv").hide();if(B==google.maps.places.PlacesServiceStatus.OK){if(D!=null){for(var C=0;C<D.length;C++){createMarkerOnLoad(D[C],"hospital");document.getElementById("gMapLoader").style.display="none";break}}}}function callbackOnLoadShop(D,B,A){$("#paginationDiv").hide();if(B==google.maps.places.PlacesServiceStatus.OK){if(D!=null){for(var C=0;C<D.length;C++){createMarkerOnLoad(D[C],"shopping_mall");document.getElementById("gMapLoader").style.display="none";break}}}}function callbackOnLoadBus(D,B,A){$("#paginationDiv").hide();if(B==google.maps.places.PlacesServiceStatus.OK){if(D!=null){for(var C=0;C<D.length;C++){createMarkerOnLoad(D[C],"bus_station");document.getElementById("gMapLoader").style.display="none";break}}}}function callbackOnLoadSchool(D,B,A){$("#paginationDiv").hide();if(B==google.maps.places.PlacesServiceStatus.OK){if(D!=null){for(var C=0;C<D.length;C++){createMarkerOnLoad(D[C],"school");document.getElementById("gMapLoader").style.display="none";break}}}}function createMarkerOnLoad(C,F){var B;var G;var I=C.types;var E;var J="";var A;if(F.indexOf("bus_station")!=-1){B=poiIconLocation+"busStopMapIcon.png";G=poiIconLocation+"busStopMapIcon.png";J="bus_stationDiv";A="Bus Station";E="<li class='busStop'><div class='catHeading poiNameCat_busStation'><span class='poiSmallIcon mapIconBusStop'></span>Bus Stop</div><div class='poiNameValue' id='"+J+"'>"+C.name+"</div></li>";$("#nearestPoiSection ul").append(E)}else{if(F.indexOf("school")!=-1){B=poiIconLocation+"schoolsMapIcon.png";G=poiIconLocation+"schoolsMapIcon.png";J="schoolDiv";A="School";E="<li class='schools'><div class='catHeading poiNameCat_school'><span class='poiSmallIcon mapIconSchools'></span>School</div><div class='poiNameValue' id='"+J+"'>"+C.name+"</div></li>";$("#nearestPoiSection ul").append(E)}else{if(F.indexOf("shopping_mall")!=-1){B=poiIconLocation+"shoppingMapIcon.png";G=poiIconLocation+"shoppingMapIcon.png";J="shopping_mallDiv";A="Shopping Mall";E="<li class='shopping'><div class='catHeading poiNameCat_shopping'><span class='poiSmallIcon mapIconShopping'></span>Shopping Mall</div><div class='poiNameValue' id='"+J+"'>"+C.name+"</div></li>";$("#nearestPoiSection ul").append(E)}else{if(F.indexOf("hospital")!=-1){B=poiIconLocation+"hospitalMapIcon.png";G=poiIconLocation+"hospitalMapIcon.png";J="hospitalDiv";A="Hospital";E="<li class='hospital'><div class='catHeading poiNameCat_hospital'><span class='poiSmallIcon mapIconHospital'></span>Hospital</div><div class='poiNameValue' id='"+J+"'>"+C.name+"</div></li>";$("#nearestPoiSection ul").append(E)}else{if(F.indexOf("atm")!=-1){B=poiIconLocation+"bankAtmMapIcon.png";G=poiIconLocation+"bankAtmMapIcon.png";J="atmDiv";A="Atm";E="<li class='bankAtm'><div class='catHeading poiNameCat_atm'><span class='poiSmallIcon mapIconBankAtm'></span>Atm</div><div class='poiNameValue' id='"+J+"'>"+C.name+"</div></li>";$("#nearestPoiSection ul").append(E)}else{if(F.indexOf("train_station")!=-1){B=poiIconLocation+"metroTrainMapIcon.png";G=poiIconLocation+"metroTrainMapIcon.png";J="train_stationDiv";A="Metro/Train";E="<li class='metroTrain'><div class='catHeading poiNameCat_train'><span class='poiSmallIcon mapIconMetroTrain'></span>Metro/Train</div><div class='poiNameValue' id='"+J+"'>"+C.name+"</div></li>";$("#nearestPoiSection ul").append(E)}else{if(F.indexOf("place_of_worship")!=-1){B=poiIconLocation+"worshipMapIcon.png";G=poiIconLocation+"worshipMapIcon.png";J="place_of_worshipDiv";A="Worship";E="<li class='worship'><div class='catHeading poiNameCat_worship'><span class='poiSmallIcon mapIconWorship'></span>Worship</div><div class='poiNameValue' id='"+J+"'>"+C.name+"</div></li>";$("#nearestPoiSection ul").append(E)}else{if(F.indexOf("grocery_or_supermarket")!=-1){B=poiIconLocation+"storeMapIcon.png";G=poiIconLocation+"storeMapIcon.png";J="grocery_or_supermarketDiv";A="Grocery Stores";E="<li class='groceryStore'><div class='catHeading poiNameCat_grocery'><span class='poiSmallIcon mapIconGroceryStore'></span>Grocery Stores</div><div class='poiNameValue' id='"+J+"'>"+C.name+"</div></li>";$("#nearestPoiSection ul").append(E)}else{if(F.indexOf("pharmacy")!=-1){B=poiIconLocation+"pharmacyMapIcon.png";G=poiIconLocation+"pharmacyMapIcon.png";J="pharmacyDiv";A="Pharmacy";E="<li class='pharmacy'><div class='catHeading poiNameCat_pharmacy'><span class='poiSmallIcon mapIconPharmacy'></span>Pharmacy</div><div class='poiNameValue' id='"+J+"'>"+C.name+"</div></li>";$("#nearestPoiSection ul").append(E)}else{if(F.indexOf("restaurant")!=-1){B=poiIconLocation+"restorantMapIcon.png";G=poiIconLocation+"restorantMapIcon.png";J="restaurantDiv";A="Restaurants";E="<li class='restorant'><div class='catHeading poiNameCat_restaurant'><span class='poiSmallIcon mapIconRestorant'></span>Restaurants</div><div class='poiNameValue' id='"+J+"'>"+C.name+"</div></li>";$("#nearestPoiSection ul").append(E)}else{if(F.indexOf("movie_theater")!=-1){B=poiIconLocation+"movieMapIcon.png";G=poiIconLocation+"movieMapIcon.png";J="movie_theaterDiv";A="Movies";E="<li class='movie'><div class='catHeading poiNameCat_movie'><span class='poiSmallIcon mapIconMovie'></span>Movies</div><div class='poiNameValue' id='"+J+"'>"+C.name+"</div></li>";$("#nearestPoiSection ul").append(E)}else{if(F.indexOf("park")!=-1){B=poiIconLocation+"parksMapIcon.png";G=poiIconLocation+"parksMapIcon.png";J="parkDiv";A="Parks";E="<li class='parks'><div class='catHeading poiNameCat_park'><span class='poiSmallIcon mapIconParks'></span>Parks</div><div class='poiNameValue' id='"+J+"'>"+C.name+"</div></li>";$("#nearestPoiSection ul").append(E)}else{if(F.indexOf("gym")!=-1){B=poiIconLocation+"gymMapIcon.png";G=poiIconLocation+"gymMapIcon.png";J="gymDiv";A="Gyms";E="<li class='gym'><div class='catHeading poiNameCat_gym'><span class='poiSmallIcon mapIconGym'></span>Gyms</div><div class='poiNameValue' id='"+J+"'>"+C.name+"</div></li>";$("#nearestPoiSection ul").append(E)}else{if(F.indexOf("gas_station")!=-1){B=poiIconLocation+"petrolPumpMapIcon.png";G=poiIconLocation+"petrolPumpMapIcon.png";J="gas_stationDiv";A="Petrol Pump";E="<li class='petrolPump'><div class='catHeading poiNameCat_gas'><span class='poiSmallIcon mapIconPetrolPump'></span>Petrol Pump</div><div class='poiNameValue' id='"+J+"'>"+C.name+"</div></li>";$("#nearestPoiSection ul").append(E)}else{if(F.indexOf("airport")!=-1){B=poiIconLocation+"airPortMapIcon.png";G=poiIconLocation+"airPortMapIcon.png";J="airportDiv";A="Airport";E="<li class='airPort'><div class='catHeading poiNameCat_airport'><span class='poiSmallIcon mapIconAirPort'></span>Airport</div><div class='poiNameValue' id='"+J+"'>"+C.name+"</div></li>";$("#nearestPoiSection ul").append(E)}}}}}}}}}}}}}}}var H=C.geometry.location;var D=new google.maps.Marker({map:map,position:C.geometry.location,icon:B});gmarkers.push(D);google.maps.event.addListener(D,"mouseover",function(){var L;var O;var N=origin;var K=D.position;var M={origin:N,destination:K,travelMode:google.maps.TravelMode.DRIVING};directionsServiceOnMap.route(M,function(R,Q){if(Q==google.maps.DirectionsStatus.OK){directionsDisplayOnMap.setOptions({preserveViewport:true});directionsDisplayOnMap.setOptions({polylineOptions:{strokeColor:"red",strokeWeight:2}});directionsDisplayOnMap.setDirections(R);L=R.routes[0].legs[0].distance.text;L="<b>"+L+"</b> "+R.routes[0].legs[0].duration.text;var T=poiIconLocation+"mapCarIcon.png";var S='<div class="mapTooltipTitle">'+C.name+"</div>";S=S+'<div class="mapTooltipDesc">'+L+' <img alt="" src="'+T+'"></div>';S=S+'<div class="mapTooltipArrowSec"><div class="mapTooltipArrowShadow"></div><div class="mapTooltipArrow"></div></div>';D.setIcon(G);var P={content:S,boxClass:"mapTooltip",disableAutoPan:true,closeBoxURL:""};if(infoBoxPoi){infoBoxPoi.close()}infoBoxPoi=new InfoBox(P);infoBoxPoi.open(map,D);trackHoverPoi("Nearest-"+A,"Map");$("#CatagorySec li").removeClass("active");$("#"+J).parent().addClass("active");$("#CatagorySec").find(".poiDistance").remove();$("#"+J).parent().find(".catHeading").append('<div class="poiDistance">'+L+' <img alt="" src="'+T+'"></div>')}})});google.maps.event.addListener(D,"mouseout",function(){D.setIcon(B);$(".mapTooltip").hide();$(".mapTooltip").html("");$("#CatagorySec li").removeClass("active");$("#CatagorySec").find(".poiDistance").remove();directionsDisplayOnMap.setDirections({routes:[]})});$("#"+J).parent().mouseenter(function(){var L;var O;var N=origin;var K=D.position;var M={origin:N,destination:K,travelMode:google.maps.TravelMode.DRIVING};directionsServiceOnMap.route(M,function(R,Q){if(Q==google.maps.DirectionsStatus.OK){directionsDisplayOnMap.setOptions({preserveViewport:true});directionsDisplayOnMap.setOptions({polylineOptions:{strokeColor:"red",strokeWeight:2}});directionsDisplayOnMap.setDirections(R);L=R.routes[0].legs[0].distance.text;L="<b>"+L+"</b> "+R.routes[0].legs[0].duration.text;var T=poiIconLocation+"mapCarIcon.png";var S='<div class="mapTooltipTitle">'+C.name+"</div>";S=S+'<div class="mapTooltipDesc">'+L+' <img alt="" src="'+T+'"></div>';S=S+'<div class="mapTooltipArrowSec"><div class="mapTooltipArrowShadow"></div><div class="mapTooltipArrow"></div></div>';D.setIcon(G);var P={content:S,boxClass:"mapTooltip",disableAutoPan:true,closeBoxURL:""};if(infoBoxPoi){infoBoxPoi.close()}infoBoxPoi=new InfoBox(P);infoBoxPoi.open(map,D);trackHoverPoi(A,"Index");$("#CatagorySec").find(".poiDistance").remove();$("#"+J).parent().find(".catHeading").append('<div class="poiDistance">'+L+' <img alt="" src="'+T+'"></div>')}})});$("#"+J).parent().mouseleave(function(){D.setIcon(B);$(".mapTooltip").hide();$("#CatagorySec li").removeClass("active");$("#CatagorySec").find(".poiDistance").remove();directionsDisplayOnMap.setDirections({routes:[]})});map.setCenter(new google.maps.LatLng(origin.lat(),origin.lng()));map.panBy(-150,0);$(".nearestPoiScroll").removeAttr("style");}function trackClikCategory(C){var B="Category Click-"+$("#trackText").val()+"-"+C;var A="Map POI-Category Click";A=A.replace(/[^- a-zA-Z 0-9]+/g,"");B=B.replace(/[^- a-zA-Z 0-9]+/g,"");}function trackHoverPoi(D,B){var C="Mouse Hover-"+$("#trackText").val()+"-"+D;var A="Map POIï¿½POI Hover-"+B;A=A.replace(/[^- a-zA-Z 0-9]+/g,"");C=C.replace(/[^- a-zA-Z 0-9]+/g,"");}function setNearestValue(A){var B=$(A).text();$("#nearestDisValue").text(B)}
/*
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function InfoBox(A){A=A||{};google.maps.OverlayView.apply(this,arguments);this.content_=A.content||"";this.disableAutoPan_=A.disableAutoPan||false;this.maxWidth_=A.maxWidth||0;this.pixelOffset_=A.pixelOffset||new google.maps.Size(0,0);this.position_=A.position||new google.maps.LatLng(0,0);this.zIndex_=A.zIndex||null;this.boxClass_=A.boxClass||"infoBox";this.boxStyle_=A.boxStyle||{};this.closeBoxMargin_=A.closeBoxMargin||"2px";this.closeBoxURL_=A.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif";if(A.closeBoxURL===""){this.closeBoxURL_=""}this.infoBoxClearance_=A.infoBoxClearance||new google.maps.Size(1,1);if(typeof A.visible==="undefined"){if(typeof A.isHidden==="undefined"){A.visible=true}else{A.visible=!A.isHidden}}this.isHidden_=!A.visible;this.alignBottom_=A.alignBottom||false;this.pane_=A.pane||"floatPane";this.enableEventPropagation_=A.enableEventPropagation||false;this.div_=null;this.closeListener_=null;this.moveListener_=null;this.contextListener_=null;this.eventListeners_=null;this.fixedWidthSet_=null}InfoBox.prototype=new google.maps.OverlayView();InfoBox.prototype.createInfoBoxDiv_=function(){var B;var A;var F;var C=this;var D=function(G){G.cancelBubble=true;if(G.stopPropagation){G.stopPropagation()}};var E=function(G){G.returnValue=false;if(G.preventDefault){G.preventDefault()}if(!C.enableEventPropagation_){D(G)}};if(!this.div_){this.div_=document.createElement("div");this.setBoxStyle_();if(typeof this.content_.nodeType==="undefined"){this.div_.innerHTML=this.getCloseBoxImg_()+this.content_}else{this.div_.innerHTML=this.getCloseBoxImg_();this.div_.appendChild(this.content_)}this.getPanes()[this.pane_].appendChild(this.div_);this.addClickHandler_();if(this.div_.style.width){this.fixedWidthSet_=true}else{if(this.maxWidth_!==0&&this.div_.offsetWidth>this.maxWidth_){this.div_.style.width=this.maxWidth_;this.div_.style.overflow="auto";this.fixedWidthSet_=true}else{F=this.getBoxWidths_();this.div_.style.width=(this.div_.offsetWidth-F.left-F.right)+"px";this.fixedWidthSet_=false}}this.panBox_(this.disableAutoPan_);if(!this.enableEventPropagation_){this.eventListeners_=[];A=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"];for(B=0;B<A.length;B++){this.eventListeners_.push(google.maps.event.addDomListener(this.div_,A[B],D))}this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(G){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",E);google.maps.event.trigger(this,"domready")}};InfoBox.prototype.getCloseBoxImg_=function(){var A="";if(this.closeBoxURL_!==""){A="<img";A+=" src='"+this.closeBoxURL_+"'";A+=" align=right";A+=" style='";A+=" position: relative;";A+=" cursor: pointer;";A+=" margin: "+this.closeBoxMargin_+";";A+="'>"}return A};InfoBox.prototype.addClickHandler_=function(){var A;if(this.closeBoxURL_!==""){A=this.div_.firstChild;this.closeListener_=google.maps.event.addDomListener(A,"click",this.getCloseClickHandler_())}else{this.closeListener_=null}};InfoBox.prototype.getCloseClickHandler_=function(){var A=this;return function(B){B.cancelBubble=true;if(B.stopPropagation){B.stopPropagation()}google.maps.event.trigger(A,"closeclick");A.close()}};InfoBox.prototype.panBox_=function(N){var C;var B;var L=0,H=0;if(!N){C=this.getMap();if(C instanceof google.maps.Map){if(!C.getBounds().contains(this.position_)){C.setCenter(this.position_)}B=C.getBounds();var P=C.getDiv();var I=P.offsetWidth;var K=P.offsetHeight;var E=this.pixelOffset_.width;var D=this.pixelOffset_.height;var J=this.div_.offsetWidth;var O=this.div_.offsetHeight;var G=this.infoBoxClearance_.width;var F=this.infoBoxClearance_.height;var A=this.getProjection().fromLatLngToContainerPixel(this.position_);if(A.x<(-E+G)){L=A.x+E-G}else{if((A.x+J+E+G)>I){L=A.x+J+E+G-I}}if(this.alignBottom_){if(A.y<(-D+F+O)){H=A.y+D-F-O}else{if((A.y+D+F)>K){H=A.y+D+F-K}}}else{if(A.y<(-D+F)){H=A.y+D-F}else{if((A.y+O+D+F)>K){H=A.y+O+D+F-K}}}if(!(L===0&&H===0)){var M=C.getCenter();C.panBy(L,H)}}}};InfoBox.prototype.setBoxStyle_=function(){var A,B;if(this.div_){this.div_.className=this.boxClass_;this.div_.style.cssText="";B=this.boxStyle_;for(A in B){if(B.hasOwnProperty(A)){this.div_.style[A]=B[A]}}if(typeof this.div_.style.opacity!=="undefined"&&this.div_.style.opacity!==""){this.div_.style.filter="alpha(opacity="+(this.div_.style.opacity*100)+")"}this.div_.style.position="absolute";this.div_.style.visibility="hidden";if(this.zIndex_!==null){this.div_.style.zIndex=this.zIndex_}}};InfoBox.prototype.getBoxWidths_=function(){var A;var C={top:0,bottom:0,left:0,right:0};var B=this.div_;if(document.defaultView&&document.defaultView.getComputedStyle){A=B.ownerDocument.defaultView.getComputedStyle(B,"");if(A){C.top=parseInt(A.borderTopWidth,10)||0;C.bottom=parseInt(A.borderBottomWidth,10)||0;C.left=parseInt(A.borderLeftWidth,10)||0;C.right=parseInt(A.borderRightWidth,10)||0}}else{if(document.documentElement.currentStyle){if(B.currentStyle){C.top=parseInt(B.currentStyle.borderTopWidth,10)||0;C.bottom=parseInt(B.currentStyle.borderBottomWidth,10)||0;C.left=parseInt(B.currentStyle.borderLeftWidth,10)||0;C.right=parseInt(B.currentStyle.borderRightWidth,10)||0}}}return C};InfoBox.prototype.onRemove=function(){if(this.div_){this.div_.parentNode.removeChild(this.div_);this.div_=null}};InfoBox.prototype.draw=function(){this.createInfoBoxDiv_();var A=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=(A.x+this.pixelOffset_.width)+"px";if(this.alignBottom_){this.div_.style.bottom=-(A.y+this.pixelOffset_.height)+"px"}else{this.div_.style.top=(A.y+this.pixelOffset_.height)+"px"}if(this.isHidden_){this.div_.style.visibility="hidden"}else{this.div_.style.visibility="visible"}};InfoBox.prototype.setOptions=function(A){if(typeof A.boxClass!=="undefined"){this.boxClass_=A.boxClass;this.setBoxStyle_()}if(typeof A.boxStyle!=="undefined"){this.boxStyle_=A.boxStyle;this.setBoxStyle_()}if(typeof A.content!=="undefined"){this.setContent(A.content)}if(typeof A.disableAutoPan!=="undefined"){this.disableAutoPan_=A.disableAutoPan}if(typeof A.maxWidth!=="undefined"){this.maxWidth_=A.maxWidth}if(typeof A.pixelOffset!=="undefined"){this.pixelOffset_=A.pixelOffset}if(typeof A.alignBottom!=="undefined"){this.alignBottom_=A.alignBottom}if(typeof A.position!=="undefined"){this.setPosition(A.position)}if(typeof A.zIndex!=="undefined"){this.setZIndex(A.zIndex)}if(typeof A.closeBoxMargin!=="undefined"){this.closeBoxMargin_=A.closeBoxMargin}if(typeof A.closeBoxURL!=="undefined"){this.closeBoxURL_=A.closeBoxURL}if(typeof A.infoBoxClearance!=="undefined"){this.infoBoxClearance_=A.infoBoxClearance}if(typeof A.isHidden!=="undefined"){this.isHidden_=A.isHidden}if(typeof A.visible!=="undefined"){this.isHidden_=!A.visible}if(typeof A.enableEventPropagation!=="undefined"){this.enableEventPropagation_=A.enableEventPropagation}if(this.div_){this.draw()}};InfoBox.prototype.setContent=function(A){this.content_=A;if(this.div_){if(this.closeListener_){google.maps.event.removeListener(this.closeListener_);this.closeListener_=null}if(!this.fixedWidthSet_){this.div_.style.width=""}if(typeof A.nodeType==="undefined"){this.div_.innerHTML=this.getCloseBoxImg_()+A}else{this.div_.innerHTML=this.getCloseBoxImg_();this.div_.appendChild(A)}if(!this.fixedWidthSet_){this.div_.style.width=this.div_.offsetWidth+"px";if(typeof A.nodeType==="undefined"){this.div_.innerHTML=this.getCloseBoxImg_()+A}else{this.div_.innerHTML=this.getCloseBoxImg_();this.div_.appendChild(A)}}this.addClickHandler_()}google.maps.event.trigger(this,"content_changed")};InfoBox.prototype.setPosition=function(A){this.position_=A;if(this.div_){this.draw()}google.maps.event.trigger(this,"position_changed")};InfoBox.prototype.setZIndex=function(A){this.zIndex_=A;if(this.div_){this.div_.style.zIndex=A}google.maps.event.trigger(this,"zindex_changed")};InfoBox.prototype.setVisible=function(A){this.isHidden_=!A;if(this.div_){this.div_.style.visibility=(this.isHidden_?"hidden":"visible")}};InfoBox.prototype.getContent=function(){return this.content_};InfoBox.prototype.getPosition=function(){return this.position_};InfoBox.prototype.getZIndex=function(){return this.zIndex_};InfoBox.prototype.getVisible=function(){var A;if((typeof this.getMap()==="undefined")||(this.getMap()===null)){A=false}else{A=!this.isHidden_}return A};InfoBox.prototype.show=function(){this.isHidden_=false;if(this.div_){this.div_.style.visibility="visible"}};InfoBox.prototype.hide=function(){this.isHidden_=true;if(this.div_){this.div_.style.visibility="hidden"}};InfoBox.prototype.open=function(C,A){var B=this;if(A){this.position_=A.getPosition();this.moveListener_=google.maps.event.addListener(A,"position_changed",function(){B.setPosition(this.getPosition())})}this.setMap(C);if(this.div_){this.panBox_()}};InfoBox.prototype.close=function(){var A;if(this.closeListener_){google.maps.event.removeListener(this.closeListener_);this.closeListener_=null}if(this.eventListeners_){for(A=0;A<this.eventListeners_.length;A++){google.maps.event.removeListener(this.eventListeners_[A])}this.eventListeners_=null}if(this.moveListener_){google.maps.event.removeListener(this.moveListener_);this.moveListener_=null}if(this.contextListener_){google.maps.event.removeListener(this.contextListener_);this.contextListener_=null}this.setMap(null)};